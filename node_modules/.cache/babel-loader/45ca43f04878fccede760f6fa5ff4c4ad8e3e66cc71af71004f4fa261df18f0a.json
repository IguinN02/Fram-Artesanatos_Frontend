{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const GerenciarProdutos=()=>{useEffect(()=>{document.title='Fram Artesanatos - Gerenciamento de Produtos';},[]);const[formData,setFormData]=useState({NomeProduto:'',ValorProduto:'',DescricaoProduto:'',ImgProduto:'',idproduto:''});const[modo,setModo]=useState('adicionar');const handleInputChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});};const handleSave=async()=>{try{const response=await fetch('https://fram-artesanatos-backend.onrender.com/produto',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({NomeProduto:formData.NomeProduto,ValorProduto:formData.ValorProduto,DescricaoProduto:formData.DescricaoProduto,ImgProduto:formData.ImgProduto})});const data=await response.json();alert(data.message||'Produto criado com sucesso!');}catch(error){alert('Erro ao criar produto!');}};const handleUpdate=async()=>{try{const response=await fetch(`https://fram-artesanatos-backend.onrender.com/produto/${formData.idproduto}`,{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({NomeProduto:formData.NomeProduto||undefined,ValorProduto:formData.ValorProduto||undefined,DescricaoProduto:formData.DescricaoProduto||undefined,ImgProduto:formData.ImgProduto||undefined})});const data=await response.json();alert(data.message||'Produto atualizado com sucesso!');}catch(error){alert('Erro ao atualizar produto!');}};const handleDelete=async()=>{try{const response=await fetch(`https://fram-artesanatos-backend.onrender.com/produto/${formData.idproduto}`,{method:'DELETE'});const data=await response.json();alert(data.message||'Produto excluído com sucesso!');}catch(error){alert('Erro ao excluir produto!');}};const handleSubmit=()=>{if(modo==='adicionar'){handleSave();}else if(modo==='atualizar'){handleUpdate();}else if(modo==='excluir'){handleDelete();}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"main\",{className:\"principal margin_fixed\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"background__branco centralizado_gerenciar\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"titulo__carrinho titulo__novidades\",children:\"Gerenciar Produtos\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"login__form_gerenciar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"opcao_gerenciar\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"radio_gerenciar\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input_radio_gerenciar\",type:\"radio\",name:\"modo\",value:\"adicionar\",checked:modo==='adicionar',onChange:e=>setModo(e.target.value)}),\"Adicionar\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"radio_gerenciar meio_gerenciar\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input_radio_gerenciar\",type:\"radio\",name:\"modo\",value:\"atualizar\",checked:modo==='atualizar',onChange:e=>setModo(e.target.value)}),\"Atualizar\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"radio_gerenciar\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input_radio_gerenciar\",type:\"radio\",name:\"modo\",value:\"excluir\",checked:modo==='excluir',onChange:e=>setModo(e.target.value)}),\"Excluir\"]})]}),modo!=='adicionar'&&/*#__PURE__*/_jsx(\"input\",{className:\"login__input_gerenciar\",name:\"idproduto\",placeholder:\"ID do Produto\",onChange:handleInputChange}),modo!=='excluir'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{className:\"login__input_gerenciar\",name:\"NomeProduto\",placeholder:\"Nome do Produto\",onChange:handleInputChange}),/*#__PURE__*/_jsx(\"input\",{className:\"login__input_gerenciar\",name:\"ValorProduto\",placeholder:\"Pre\\xE7o\",onChange:handleInputChange}),/*#__PURE__*/_jsx(\"input\",{className:\"login__input_gerenciar\",name:\"DescricaoProduto\",placeholder:\"Descri\\xE7\\xE3o\",onChange:handleInputChange}),/*#__PURE__*/_jsx(\"input\",{className:\"login__input_gerenciar\",name:\"ImgProduto\",placeholder:\"URL da Imagem\",onChange:handleInputChange})]}),/*#__PURE__*/_jsx(\"button\",{className:\"button_gerenciar\",onClick:handleSubmit,children:modo==='adicionar'?'Salvar':modo==='atualizar'?'Atualizar':'Excluir'})]})]})})});};export default GerenciarProdutos;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","GerenciarProdutos","document","title","formData","setFormData","NomeProduto","ValorProduto","DescricaoProduto","ImgProduto","idproduto","modo","setModo","handleInputChange","e","name","value","target","handleSave","response","fetch","method","headers","body","JSON","stringify","data","json","alert","message","error","handleUpdate","undefined","handleDelete","handleSubmit","children","className","type","checked","onChange","placeholder","onClick"],"sources":["E:/Faculdade/REACT-Fran_Artesanato-Frontend/fram-artesanato/frontend/src/pages/GerenciarProdutos.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nconst GerenciarProdutos = () => {\r\n  useEffect(() => {\r\n    document.title = 'Fram Artesanatos - Gerenciamento de Produtos';\r\n  }, []);\r\n\r\n  const [formData, setFormData] = useState({\r\n    NomeProduto: '',\r\n    ValorProduto: '',\r\n    DescricaoProduto: '',\r\n    ImgProduto: '',\r\n    idproduto: '',\r\n  });\r\n\r\n  const [modo, setModo] = useState('adicionar');\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({ ...formData, [name]: value });\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    try {\r\n      const response = await fetch('https://fram-artesanatos-backend.onrender.com/produto', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          NomeProduto: formData.NomeProduto,\r\n          ValorProduto: formData.ValorProduto,\r\n          DescricaoProduto: formData.DescricaoProduto,\r\n          ImgProduto: formData.ImgProduto,\r\n        }),\r\n      });\r\n      const data = await response.json();\r\n      alert(data.message || 'Produto criado com sucesso!');\r\n    } catch (error) {\r\n      alert('Erro ao criar produto!');\r\n    }\r\n  };\r\n\r\n  const handleUpdate = async () => {\r\n    try {\r\n      const response = await fetch(`https://fram-artesanatos-backend.onrender.com/produto/${formData.idproduto}`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          NomeProduto: formData.NomeProduto || undefined,\r\n          ValorProduto: formData.ValorProduto || undefined,\r\n          DescricaoProduto: formData.DescricaoProduto || undefined,\r\n          ImgProduto: formData.ImgProduto || undefined,\r\n        }),\r\n      });\r\n      const data = await response.json();\r\n      alert(data.message || 'Produto atualizado com sucesso!');\r\n    } catch (error) {\r\n      alert('Erro ao atualizar produto!');\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      const response = await fetch(`https://fram-artesanatos-backend.onrender.com/produto/${formData.idproduto}`, {\r\n        method: 'DELETE',\r\n      });\r\n      const data = await response.json();\r\n      alert(data.message || 'Produto excluído com sucesso!');\r\n    } catch (error) {\r\n      alert('Erro ao excluir produto!');\r\n    }\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    if (modo === 'adicionar') {\r\n      handleSave();\r\n    } else if (modo === 'atualizar') {\r\n      handleUpdate();\r\n    } else if (modo === 'excluir') {\r\n      handleDelete();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <main className=\"principal margin_fixed\">\r\n        <section className=\"background__branco centralizado_gerenciar\">\r\n          <h2 className=\"titulo__carrinho titulo__novidades\">Gerenciar Produtos</h2>\r\n\r\n          <div className=\"login__form_gerenciar\">\r\n            <div className='opcao_gerenciar'>\r\n              <label className='radio_gerenciar'>\r\n                <input\r\n                  className='input_radio_gerenciar'\r\n                  type=\"radio\"\r\n                  name=\"modo\"\r\n                  value=\"adicionar\"\r\n                  checked={modo === 'adicionar'}\r\n                  onChange={(e) => setModo(e.target.value)}\r\n                />\r\n                Adicionar\r\n              </label>\r\n              <label className='radio_gerenciar meio_gerenciar'>\r\n                <input\r\n                  className='input_radio_gerenciar'\r\n                  type=\"radio\"\r\n                  name=\"modo\"\r\n                  value=\"atualizar\"\r\n                  checked={modo === 'atualizar'}\r\n                  onChange={(e) => setModo(e.target.value)}\r\n                />\r\n                Atualizar\r\n              </label>\r\n              <label className='radio_gerenciar'>\r\n                <input\r\n                  className='input_radio_gerenciar'\r\n                  type=\"radio\"\r\n                  name=\"modo\"\r\n                  value=\"excluir\"\r\n                  checked={modo === 'excluir'}\r\n                  onChange={(e) => setModo(e.target.value)}\r\n                />\r\n                Excluir\r\n              </label>\r\n            </div>\r\n\r\n            {(modo !== 'adicionar') && (\r\n              <input\r\n                className=\"login__input_gerenciar\"\r\n                name=\"idproduto\"\r\n                placeholder=\"ID do Produto\"\r\n                onChange={handleInputChange}\r\n              />\r\n            )}\r\n            {(modo !== 'excluir') && (\r\n              <>\r\n                <input\r\n                  className=\"login__input_gerenciar\"\r\n                  name=\"NomeProduto\"\r\n                  placeholder=\"Nome do Produto\"\r\n                  onChange={handleInputChange}\r\n                />\r\n                <input\r\n                  className=\"login__input_gerenciar\"\r\n                  name=\"ValorProduto\"\r\n                  placeholder=\"Preço\"\r\n                  onChange={handleInputChange}\r\n                />\r\n                <input\r\n                  className=\"login__input_gerenciar\"\r\n                  name=\"DescricaoProduto\"\r\n                  placeholder=\"Descrição\"\r\n                  onChange={handleInputChange}\r\n                />\r\n                <input\r\n                  className=\"login__input_gerenciar\"\r\n                  name=\"ImgProduto\"\r\n                  placeholder=\"URL da Imagem\"\r\n                  onChange={handleInputChange}\r\n                />\r\n              </>\r\n            )}\r\n\r\n            <button className=\"button_gerenciar\" onClick={handleSubmit}>\r\n              {modo === 'adicionar' ? 'Salvar' : modo === 'atualizar' ? 'Atualizar' : 'Excluir'}\r\n            </button>\r\n          </div>\r\n        </section>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GerenciarProdutos;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEnD,KAAM,CAAAC,iBAAiB,CAAGA,CAAA,GAAM,CAC9BP,SAAS,CAAC,IAAM,CACdQ,QAAQ,CAACC,KAAK,CAAG,8CAA8C,CACjE,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,CACvCa,WAAW,CAAE,EAAE,CACfC,YAAY,CAAE,EAAE,CAChBC,gBAAgB,CAAE,EAAE,CACpBC,UAAU,CAAE,EAAE,CACdC,SAAS,CAAE,EACb,CAAC,CAAC,CAEF,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGnB,QAAQ,CAAC,WAAW,CAAC,CAE7C,KAAM,CAAAoB,iBAAiB,CAAIC,CAAC,EAAK,CAC/B,KAAM,CAAEC,IAAI,CAAEC,KAAM,CAAC,CAAGF,CAAC,CAACG,MAAM,CAChCZ,WAAW,CAAC,CAAE,GAAGD,QAAQ,CAAE,CAACW,IAAI,EAAGC,KAAM,CAAC,CAAC,CAC7C,CAAC,CAED,KAAM,CAAAE,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,uDAAuD,CAAE,CACpFC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBnB,WAAW,CAAEF,QAAQ,CAACE,WAAW,CACjCC,YAAY,CAAEH,QAAQ,CAACG,YAAY,CACnCC,gBAAgB,CAAEJ,QAAQ,CAACI,gBAAgB,CAC3CC,UAAU,CAAEL,QAAQ,CAACK,UACvB,CAAC,CACH,CAAC,CAAC,CACF,KAAM,CAAAiB,IAAI,CAAG,KAAM,CAAAP,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAClCC,KAAK,CAACF,IAAI,CAACG,OAAO,EAAI,6BAA6B,CAAC,CACtD,CAAE,MAAOC,KAAK,CAAE,CACdF,KAAK,CAAC,wBAAwB,CAAC,CACjC,CACF,CAAC,CAED,KAAM,CAAAG,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACF,KAAM,CAAAZ,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,yDAAyDhB,QAAQ,CAACM,SAAS,EAAE,CAAE,CAC1GW,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBnB,WAAW,CAAEF,QAAQ,CAACE,WAAW,EAAI0B,SAAS,CAC9CzB,YAAY,CAAEH,QAAQ,CAACG,YAAY,EAAIyB,SAAS,CAChDxB,gBAAgB,CAAEJ,QAAQ,CAACI,gBAAgB,EAAIwB,SAAS,CACxDvB,UAAU,CAAEL,QAAQ,CAACK,UAAU,EAAIuB,SACrC,CAAC,CACH,CAAC,CAAC,CACF,KAAM,CAAAN,IAAI,CAAG,KAAM,CAAAP,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAClCC,KAAK,CAACF,IAAI,CAACG,OAAO,EAAI,iCAAiC,CAAC,CAC1D,CAAE,MAAOC,KAAK,CAAE,CACdF,KAAK,CAAC,4BAA4B,CAAC,CACrC,CACF,CAAC,CAED,KAAM,CAAAK,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACF,KAAM,CAAAd,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,yDAAyDhB,QAAQ,CAACM,SAAS,EAAE,CAAE,CAC1GW,MAAM,CAAE,QACV,CAAC,CAAC,CACF,KAAM,CAAAK,IAAI,CAAG,KAAM,CAAAP,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAClCC,KAAK,CAACF,IAAI,CAACG,OAAO,EAAI,+BAA+B,CAAC,CACxD,CAAE,MAAOC,KAAK,CAAE,CACdF,KAAK,CAAC,0BAA0B,CAAC,CACnC,CACF,CAAC,CAED,KAAM,CAAAM,YAAY,CAAGA,CAAA,GAAM,CACzB,GAAIvB,IAAI,GAAK,WAAW,CAAE,CACxBO,UAAU,CAAC,CAAC,CACd,CAAC,IAAM,IAAIP,IAAI,GAAK,WAAW,CAAE,CAC/BoB,YAAY,CAAC,CAAC,CAChB,CAAC,IAAM,IAAIpB,IAAI,GAAK,SAAS,CAAE,CAC7BsB,YAAY,CAAC,CAAC,CAChB,CACF,CAAC,CAED,mBACErC,IAAA,QAAAuC,QAAA,cACEvC,IAAA,SAAMwC,SAAS,CAAC,wBAAwB,CAAAD,QAAA,cACtCrC,KAAA,YAASsC,SAAS,CAAC,2CAA2C,CAAAD,QAAA,eAC5DvC,IAAA,OAAIwC,SAAS,CAAC,oCAAoC,CAAAD,QAAA,CAAC,oBAAkB,CAAI,CAAC,cAE1ErC,KAAA,QAAKsC,SAAS,CAAC,uBAAuB,CAAAD,QAAA,eACpCrC,KAAA,QAAKsC,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAC9BrC,KAAA,UAAOsC,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAChCvC,IAAA,UACEwC,SAAS,CAAC,uBAAuB,CACjCC,IAAI,CAAC,OAAO,CACZtB,IAAI,CAAC,MAAM,CACXC,KAAK,CAAC,WAAW,CACjBsB,OAAO,CAAE3B,IAAI,GAAK,WAAY,CAC9B4B,QAAQ,CAAGzB,CAAC,EAAKF,OAAO,CAACE,CAAC,CAACG,MAAM,CAACD,KAAK,CAAE,CAC1C,CAAC,YAEJ,EAAO,CAAC,cACRlB,KAAA,UAAOsC,SAAS,CAAC,gCAAgC,CAAAD,QAAA,eAC/CvC,IAAA,UACEwC,SAAS,CAAC,uBAAuB,CACjCC,IAAI,CAAC,OAAO,CACZtB,IAAI,CAAC,MAAM,CACXC,KAAK,CAAC,WAAW,CACjBsB,OAAO,CAAE3B,IAAI,GAAK,WAAY,CAC9B4B,QAAQ,CAAGzB,CAAC,EAAKF,OAAO,CAACE,CAAC,CAACG,MAAM,CAACD,KAAK,CAAE,CAC1C,CAAC,YAEJ,EAAO,CAAC,cACRlB,KAAA,UAAOsC,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAChCvC,IAAA,UACEwC,SAAS,CAAC,uBAAuB,CACjCC,IAAI,CAAC,OAAO,CACZtB,IAAI,CAAC,MAAM,CACXC,KAAK,CAAC,SAAS,CACfsB,OAAO,CAAE3B,IAAI,GAAK,SAAU,CAC5B4B,QAAQ,CAAGzB,CAAC,EAAKF,OAAO,CAACE,CAAC,CAACG,MAAM,CAACD,KAAK,CAAE,CAC1C,CAAC,UAEJ,EAAO,CAAC,EACL,CAAC,CAEJL,IAAI,GAAK,WAAW,eACpBf,IAAA,UACEwC,SAAS,CAAC,wBAAwB,CAClCrB,IAAI,CAAC,WAAW,CAChByB,WAAW,CAAC,eAAe,CAC3BD,QAAQ,CAAE1B,iBAAkB,CAC7B,CACF,CACCF,IAAI,GAAK,SAAS,eAClBb,KAAA,CAAAE,SAAA,EAAAmC,QAAA,eACEvC,IAAA,UACEwC,SAAS,CAAC,wBAAwB,CAClCrB,IAAI,CAAC,aAAa,CAClByB,WAAW,CAAC,iBAAiB,CAC7BD,QAAQ,CAAE1B,iBAAkB,CAC7B,CAAC,cACFjB,IAAA,UACEwC,SAAS,CAAC,wBAAwB,CAClCrB,IAAI,CAAC,cAAc,CACnByB,WAAW,CAAC,UAAO,CACnBD,QAAQ,CAAE1B,iBAAkB,CAC7B,CAAC,cACFjB,IAAA,UACEwC,SAAS,CAAC,wBAAwB,CAClCrB,IAAI,CAAC,kBAAkB,CACvByB,WAAW,CAAC,iBAAW,CACvBD,QAAQ,CAAE1B,iBAAkB,CAC7B,CAAC,cACFjB,IAAA,UACEwC,SAAS,CAAC,wBAAwB,CAClCrB,IAAI,CAAC,YAAY,CACjByB,WAAW,CAAC,eAAe,CAC3BD,QAAQ,CAAE1B,iBAAkB,CAC7B,CAAC,EACF,CACH,cAEDjB,IAAA,WAAQwC,SAAS,CAAC,kBAAkB,CAACK,OAAO,CAAEP,YAAa,CAAAC,QAAA,CACxDxB,IAAI,GAAK,WAAW,CAAG,QAAQ,CAAGA,IAAI,GAAK,WAAW,CAAG,WAAW,CAAG,SAAS,CAC3E,CAAC,EACN,CAAC,EACC,CAAC,CACN,CAAC,CACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAAV,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}