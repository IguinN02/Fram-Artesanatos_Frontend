{"ast":null,"code":"import React,{useEffect,useState,useContext}from'react';import axios from'axios';import{Link}from'react-router-dom';import{CarrinhoContext}from'../context/CarrinhoContext.js';import Popup from'../components/Popup.js';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TodosProdutos=()=>{const[produtos,setProdutos]=useState([]);const[popupMessage,setPopupMessage]=useState(null);const{adicionarAoCarrinho,produtoJaNoCarrinho}=useContext(CarrinhoContext);useEffect(()=>{document.title='Fram Artesanatos - Todos os Produtos';axios.get('https://fram-artesanatos-backend.onrender.com/produto').then(_ref=>{let{data}=_ref;return setProdutos(data);}).catch(erro=>console.error('Erro ao buscar os produtos:',erro));},[]);const handleAdicionarAoCarrinho=produto=>{const mensagem=produtoJaNoCarrinho(produto.idproduto)?'jaAdicionado':'adicionado';setPopupMessage(mensagem);if(!produtoJaNoCarrinho(produto.idproduto)){adicionarAoCarrinho(produto);}setTimeout(()=>setPopupMessage(null),6000);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"main\",{className:\"principal margin_fixed\",children:/*#__PURE__*/_jsx(\"section\",{className:\"produtos\",children:produtos.map(_ref2=>{let{idproduto,imagens,nome,descricao,preco}=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"produtos__1\",children:[/*#__PURE__*/_jsxs(Link,{to:`/produto/${idproduto}/${encodeURIComponent(nome)}`,className:\"produto__link\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"produto__img\",src:imagens,alt:nome}),/*#__PURE__*/_jsxs(\"div\",{className:\"produto__info\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"produto__titulo\",children:nome}),/*#__PURE__*/_jsx(\"p\",{className:\"produto__descricao\",children:descricao}),/*#__PURE__*/_jsxs(\"p\",{className:\"produto__valor\",children:[\"R$\",Number(preco).toFixed(2)]})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"adicionar__carrinho\",onClick:()=>handleAdicionarAoCarrinho({idproduto,imagens,nome,descricao,preco}),children:\"Adicionar ao Carrinho\"})]},idproduto);})})}),/*#__PURE__*/_jsx(Popup,{tipo:popupMessage,fechar:()=>setPopupMessage(null)})]});};export default TodosProdutos;","map":{"version":3,"names":["React","useEffect","useState","useContext","axios","Link","CarrinhoContext","Popup","jsx","_jsx","jsxs","_jsxs","TodosProdutos","produtos","setProdutos","popupMessage","setPopupMessage","adicionarAoCarrinho","produtoJaNoCarrinho","document","title","get","then","_ref","data","catch","erro","console","error","handleAdicionarAoCarrinho","produto","mensagem","idproduto","setTimeout","children","className","map","_ref2","imagens","nome","descricao","preco","to","encodeURIComponent","src","alt","Number","toFixed","onClick","tipo","fechar"],"sources":["E:/Faculdade/REACT-Fran_Artesanato-Frontend/fram-artesanato/frontend/src/pages/TodosProdutos.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport { CarrinhoContext } from '../context/CarrinhoContext.js';\r\nimport Popup from '../components/Popup.js';\r\n\r\nconst TodosProdutos = () => {\r\n  const [produtos, setProdutos] = useState([]);\r\n  const [popupMessage, setPopupMessage] = useState(null);\r\n  const { adicionarAoCarrinho, produtoJaNoCarrinho } = useContext(CarrinhoContext);\r\n\r\n  useEffect(() => {\r\n    document.title = 'Fram Artesanatos - Todos os Produtos';\r\n    axios\r\n      .get('https://fram-artesanatos-backend.onrender.com/produto')\r\n      .then(({ data }) => setProdutos(data))\r\n      .catch((erro) => console.error('Erro ao buscar os produtos:', erro));\r\n  }, []);\r\n\r\n  const handleAdicionarAoCarrinho = (produto) => {\r\n    const mensagem = produtoJaNoCarrinho(produto.idproduto) ? 'jaAdicionado' : 'adicionado';\r\n    setPopupMessage(mensagem);\r\n    if (!produtoJaNoCarrinho(produto.idproduto)) {\r\n      adicionarAoCarrinho(produto);\r\n    }\r\n    setTimeout(() => setPopupMessage(null), 6000);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <main className=\"principal margin_fixed\">\r\n        <section className=\"produtos\">\r\n          {produtos.map(({ idproduto, imagens, nome, descricao, preco }) => (\r\n            <div key={idproduto} className=\"produtos__1\">\r\n              <Link to={`/produto/${idproduto}/${encodeURIComponent(nome)}`} className=\"produto__link\">\r\n                <img className=\"produto__img\" src={imagens} alt={nome} />\r\n                <div className=\"produto__info\">\r\n                  <h3 className=\"produto__titulo\">{nome}</h3>\r\n                  <p className=\"produto__descricao\">{descricao}</p>\r\n                  <p className=\"produto__valor\">R${Number(preco).toFixed(2)}</p>\r\n                </div>\r\n              </Link>\r\n              <button\r\n                className=\"adicionar__carrinho\"\r\n                onClick={() => handleAdicionarAoCarrinho({ idproduto, imagens, nome, descricao, preco })}\r\n              >\r\n                Adicionar ao Carrinho\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </section>\r\n      </main>\r\n\r\n      <Popup tipo={popupMessage} fechar={() => setPopupMessage(null)} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TodosProdutos;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}